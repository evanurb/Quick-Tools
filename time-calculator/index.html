<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Time Calculator ‚Äî Quick Tools</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #0f0f0f;
    --surface: #1a1a1a;
    --surface2: #222;
    --border: #2a2a2a;
    --accent: #60a5fa;
    --accent-dim: rgba(96, 165, 250, 0.12);
    --text: #f0f0f0;
    --text-muted: #555;
    --sans: 'DM Sans', sans-serif;
  }

  html, body {
    height: 100%;
    background: var(--bg);
    color: var(--text);
    font-family: var(--sans);
    -webkit-font-smoothing: antialiased;
  }

  .app-page { min-height: 100vh; display: flex; flex-direction: column; }

  .app-topbar {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 20px;
    border-bottom: 1px solid var(--border);
    background: var(--bg);
    position: sticky;
    top: 0;
    z-index: 10;
  }

  .back-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text-muted);
    font-family: var(--sans);
    font-size: 13px;
    font-weight: 500;
    padding: 7px 12px;
    cursor: pointer;
    transition: all 0.15s;
    white-space: nowrap;
    text-decoration: none;
  }

  .back-btn:hover { border-color: var(--accent); color: var(--accent); }

  .app-topbar-icon {
    width: 28px; height: 28px;
    border-radius: 7px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    flex-shrink: 0;
  }

  .app-topbar-title {
    font-size: 15px;
    font-weight: 600;
    color: var(--text);
  }

  .app-content {
    flex: 1;
    padding: 24px 20px 48px;
    max-width: 680px;
    width: 100%;
    margin: 0 auto;
  }

  .rows-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 14px;
  }

  .row {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 14px;
    display: grid;
    grid-template-columns: 1fr 1fr auto;
    gap: 10px;
    align-items: end;
    animation: fadeIn 0.15s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(5px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .field { display: flex; flex-direction: column; gap: 5px; }

  .field label {
    font-size: 11px;
    font-weight: 500;
    color: var(--text);
    text-transform: uppercase;
    letter-spacing: 0.8px;
  }

  .time-selects { display: flex; gap: 4px; align-items: center; }

  select {
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text);
    font-family: var(--sans);
    font-size: 15px;
    font-weight: 500;
    padding: 8px 6px;
    outline: none;
    transition: border-color 0.15s, box-shadow 0.15s;
    -webkit-appearance: none;
    appearance: none;
    text-align: center;
    cursor: pointer;
  }

  .time-selects select.hour   { width: 56px; }
  .time-selects select.minute { width: 56px; }
  .time-selects select.ampm   { width: 58px; }

  .time-sep { font-size: 16px; font-weight: 500; color: var(--text-muted); }

  select:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-dim);
  }

  .row-right { display: flex; flex-direction: column; align-items: flex-end; gap: 6px; }

  .delete-btn {
    background: none;
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 16px;
    width: 34px; height: 34px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s;
    flex-shrink: 0;
  }

  .delete-btn:hover { border-color: #f87171; color: #f87171; background: rgba(248,113,113,0.08); }

  .row-result {
    font-size: 13px;
    font-weight: 500;
    color: var(--accent);
    white-space: nowrap;
    padding-bottom: 9px;
    min-width: 90px;
    text-align: right;
  }

  .row-result.empty { color: var(--text-muted); }

  .tc-actions { display: flex; gap: 10px; margin-bottom: 24px; }

  .btn {
    font-family: var(--sans);
    font-size: 14px;
    font-weight: 500;
    padding: 10px 18px;
    border-radius: 8px;
    cursor: pointer;
    border: none;
    transition: all 0.15s;
  }

  .btn-add { background: var(--accent); color: #0a0a0a; flex: 1; }
  .btn-add:hover { background: #93c5fd; }

  .btn-clear { background: var(--surface); color: var(--text-muted); border: 1px solid var(--border); }
  .btn-clear:hover { border-color: #f87171; color: #f87171; }

  .totals {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    border-left: 3px solid var(--accent);
  }

  .totals-label {
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: var(--text);
    margin-bottom: 12px;
  }

  .totals-values { display: flex; gap: 24px; align-items: baseline; }
  .total-item { display: flex; flex-direction: column; gap: 3px; }

  .total-val {
    font-size: 30px;
    font-weight: 600;
    color: var(--accent);
    line-height: 1;
    letter-spacing: -0.5px;
  }

  .total-sub { font-size: 11px; font-weight: 400; color: var(--text); }
  .tc-divider { color: var(--border); font-size: 26px; align-self: center; }
</style>
</head>
<body>
<div class="app-page">
  <div class="app-topbar">
    <a class="back-btn" href="../">‚Üê Quick Tools</a>
    <div class="app-topbar-icon" style="background:#1e3a5f">üïê</div>
    <span class="app-topbar-title">Time Calculator</span>
  </div>
  <div class="app-content">
    <div class="rows-container" id="tc-rows"></div>
    <div class="tc-actions">
      <button class="btn btn-add" onclick="tcAddRow()">+ Add Row</button>
      <button class="btn btn-clear" onclick="tcClearAll()">Clear All</button>
    </div>
    <div class="totals">
      <div class="totals-label">Total Duration</div>
      <div class="totals-values">
        <div class="total-item">
          <span class="total-val" id="tc-total-fmt">0:00</span>
          <span class="total-sub">h:mm</span>
        </div>
        <div class="tc-divider">/</div>
        <div class="total-item">
          <span class="total-val" id="tc-total-dec">0.00</span>
          <span class="total-sub">decimal hrs</span>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  let tcRowCount = 0;

  function tcBuildSelects(id) {
    const hours = Array.from({length:12}, (_, i) => i + 1);
    const mins  = Array.from({length:60}, (_, i) => i);
    const hOpts = hours.map(h => `<option value="${h}"${h===12?' selected':''}>${String(h).padStart(2,'0')}</option>`).join('');
    const mOpts = mins.map(m  => `<option value="${m}"${m===0?' selected':''}>${String(m).padStart(2,'0')}</option>`).join('');
    return `
      <div class="time-selects">
        <select class="hour"   id="${id}-h"  onchange="tcCalc()">${hOpts}</select>
        <span class="time-sep">:</span>
        <select class="minute" id="${id}-m"  onchange="tcCalc()">${mOpts}</select>
        <select class="ampm"   id="${id}-ap" onchange="tcCalc()">
          <option value="AM" selected>AM</option>
          <option value="PM">PM</option>
        </select>
      </div>`;
  }

  function tcAddRow() {
    tcRowCount++;
    const id  = tcRowCount;
    const div = document.createElement('div');
    div.className = 'row';
    div.id = `tc-row-${id}`;
    div.innerHTML = `
      <div class="field">
        <label>Start</label>
        ${tcBuildSelects('tcs' + id)}
      </div>
      <div class="field">
        <label>End</label>
        ${tcBuildSelects('tce' + id)}
      </div>
      <div class="row-right">
        <button class="delete-btn" onclick="tcRemoveRow(${id})">√ó</button>
        <div class="row-result empty" id="tc-res-${id}"></div>
      </div>`;
    document.getElementById('tc-rows').appendChild(div);
    tcCalc();
  }

  function tcRemoveRow(id) {
    const el = document.getElementById(`tc-row-${id}`);
    if (el) el.remove();
    tcCalc();
  }

  function tcClearAll() {
    document.getElementById('tc-rows').innerHTML = '';
    tcRowCount = 0;
    tcCalc();
  }

  function tcGetMinutes(prefix) {
    const h  = parseInt(document.getElementById(prefix + '-h').value);
    const m  = parseInt(document.getElementById(prefix + '-m').value);
    const ap = document.getElementById(prefix + '-ap').value;
    let h24  = h % 12;
    if (ap === 'PM') h24 += 12;
    return h24 * 60 + m;
  }

  function tcCalc() {
    let totalMins = 0;
    document.querySelectorAll('#tc-rows .row').forEach(row => {
      const id    = row.id.replace('tc-row-', '');
      const resEl = document.getElementById('tc-res-' + id);
      if (!resEl) return;
      try {
        let diff = tcGetMinutes('tce' + id) - tcGetMinutes('tcs' + id);
        if (diff < 0) diff += 1440;
        if (diff === 0) { resEl.textContent = ''; resEl.className = 'row-result empty'; return; }
        totalMins += diff;
        resEl.textContent = `${Math.floor(diff/60)}:${String(diff%60).padStart(2,'0')} / ${(diff/60).toFixed(2)}`;
        resEl.className = 'row-result';
      } catch(e) {
        resEl.textContent = '';
        resEl.className = 'row-result empty';
      }
    });
    const th = Math.floor(totalMins / 60);
    const tm = totalMins % 60;
    document.getElementById('tc-total-fmt').textContent = `${th}:${String(tm).padStart(2,'0')}`;
    document.getElementById('tc-total-dec').textContent = (totalMins / 60).toFixed(2);
  }

  document.addEventListener('DOMContentLoaded', () => tcAddRow());
</script>
</body>
</html>
